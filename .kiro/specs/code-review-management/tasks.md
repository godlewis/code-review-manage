# 代码评审管理系统实施计划

- [x] 1. 项目基础架构搭建
  - 创建Spring Boot项目结构和基础配置
  - 配置数据库连接和MyBatis Plus
  - 集成Redis缓存和RabbitMQ消息队列
  - 搭建Vue 3前端项目框架
  - _需求: 需求8.1, 需求8.2_


- [x] 1.1 后端项目初始化


  - 创建Spring Boot多模块项目结构
  - 配置application.yml和数据库连接
  - 集成MyBatis Plus和数据库迁移工具Flyway
  - 配置Redis连接和缓存策略
  - 集成RabbitMQ消息队列配置
  - _需求: 需求8.1, 需求8.2_


- [x] 1.2 前端项目初始化


  - 使用Vite创建Vue 3 + TypeScript项目
  - 集成Element Plus UI组件库
  - 配置Vue Router路由管理
  - 集成Pinia状态管理
  - 配置Axios HTTP客户端和请求拦截器


  - _需求: 需求10.1, 需求10.2_

- [x] 1.3 数据库表结构创建


  - 创建用户表(users)和团队表(teams)
  - 创建评审分配表(review_assignments)
  - 创建评审记录表(review_records)和代码截图表(code_screenshots)
  - 创建问题表(issues)和整改记录表(fix_records)
  - 创建智能汇总表(ai_summaries)和通知表(notifications)
  - 创建必要的数据库索引
  - _需求: 需求1.2, 需求2.1, 需求3.1, 需求4.1_

- [-] 2. 用户认证与权限管理模块





  - 实现用户注册、登录和JWT认证
  - 实现基于角色的权限控制(RBAC)
  - 创建用户管理相关的API接口
  - 连接前端登录功能到后端API
  - _需求: 需求1.1, 需求1.2, 需求1.3, 需求1.4, 需求1.5, 需求1.6_

- [x] 2.1 创建用户服务模块结构


  - 在code-review-user模块中创建完整的包结构
  - 创建User、Team实体类和对应的Repository接口
  - 实现UserService和TeamService业务逻辑类
  - 配置MyBatis Plus映射和数据库连接
  - _需求: 需求1.1, 需求1.2_

- [x] 2.2 实现Spring Security和JWT认证


  - 集成Spring Security配置类
  - 实现JWT工具类和认证过滤器
  - 创建UserDetailsService实现类
  - 配置密码加密和认证流程
  - _需求: 需求1.1, 需求1.6_

- [x] 2.3 实现用户管理API接口


  - 创建UserController实现登录、登出、获取用户信息接口
  - 创建TeamController实现团队管理接口
  - 添加全局异常处理和参数验证
  - 实现基于角色的权限控制注解
  - _需求: 需求1.1, 需求1.2, 需求1.3, 需求1.4, 需求1.5_

- [x] 2.4 启动用户服务并测试前后端集成





  - 创建用户服务启动类和配置文件
  - 测试用户登录、登出功能
  - 验证JWT token生成和验证
  - 测试前端与后端API的集成
  - _需求: 需求1.1, 需求1.6, 需求10.1, 需求10.2_

- [x] 3. 评审任务自动分配模块




  - 实现智能分配算法核心逻辑
  - 创建分配规则配置和管理功能
  - 实现评审任务分配的API接口
  - 创建前端任务分配管理页面
  - _需求: 需求2.1, 需求2.2, 需求2.3, 需求2.4, 需求2.5, 需求2.6_

- [x] 3.1 评审分配算法实现



  - 创建ReviewAssignment实体和Repository
  - 实现智能分配算法核心逻辑
  - 实现技能匹配度计算和避重检查
  - 集成匈牙利算法求解最优分配
  - 实现负载均衡和多样性调整
  - _需求: 需求2.1, 需求2.2, 需求2.3_



- [x] 3.2 分配规则配置管理





  - 创建AssignmentConfig配置类
  - 实现分配规则的动态配置功能
  - 创建配置管理的API接口
  - 实现特殊分配规则处理逻辑


  - _需求: 需求2.2, 需求2.4_

- [x] 3.3 评审分配API接口



  - 实现ReviewAssignmentController分配接口
  - 创建生成周度分配和查询分配历史接口


  - 实现手动调整分配结果功能
  - 添加分配结果验证和异常处理
  - _需求: 需求2.1, 需求2.5, 需求2.6_

- [x] 3.4 前端任务分配管理页面





  - 创建评审任务列表页面组件
  - 实现分配结果展示和手动调整功能
  - 创建分配历史查询和统计图表
  - 实现分配规则配置管理界面
  - _需求: 需求2.5, 需求2.6, 需求10.1, 需求10.2_

- [x] 4. 代码评审记录管理模块







  - 实现评审记录的CRUD操作
  - 集成文件上传和图片存储功能
  - 创建评审记录管理的API接口
  - 实现前端评审记录创建和编辑页面
  - _需求: 需求3.1, 需求3.2, 需求3.3, 需求3.4, 需求3.5, 需求3.6, 需求3.7_

- [x] 4.1 评审记录实体和服务



  - 创建ReviewRecord和CodeScreenshot实体
  - 实现ReviewRecordService业务逻辑
  - 创建评审记录的CRUD操作方法
  - 实现评审状态流转和验证逻辑
  - _需求: 需求3.1, 需求3.6, 需求3.7_




- [x] 4.2 文件上传服务实现


  - 实现FileUploadService文件上传服务
  - 集成本地minio文件存储


  - 实现文件类型和大小验证
  - 创建文件上传进度和错误处理
  - _需求: 需求3.2, 需求8.3_

- [x] 4.3 评审记录API接口


  - 实现ReviewRecordController评审接口
  - 创建评审记录的增删改查接口
  - 实现评审记录提交和状态更新接口
  - 添加文件上传和下载接口
  - _需求: 需求3.1, 需求3.2, 需求3.3, 需求3.4, 需求3.5, 需求3.6, 需求3.7_

- [x] 4.4 前端评审记录页面



  - 创建评审记录列表和详情页面
  - 实现评审记录创建和编辑表单
  - 集成富文本编辑器和文件上传组件
  - 实现评审记录的状态展示和操作
  - _需求: 需求3.1, 需求3.2, 需求3.3, 需求3.4, 需求3.5, 需求10.1, 需求10.3_

- [x] 5. 问题跟踪与整改管理模块




  - 实现问题记录的创建和管理
  - 实现整改记录的提交和验证
  - 创建问题管理的API接口
  - 实现前端问题列表和整改页面
  - _需求: 需求4.1, 需求4.2, 需求4.3, 需求4.4, 需求4.5, 需求4.6_



- [x] 5.1 问题管理实体和服务



  - 创建Issue和FixRecord实体类
  - 实现IssueService问题管理服务
  - 创建问题的CRUD操作和状态管理
  - 实现问题分类和严重级别处理
  - _需求: 需求4.1, 需求4.2_

- [x] 5.2 整改跟踪服务实现



  - 实现IssueTrackingService整改跟踪服务
  - 创建整改记录提交和验证逻辑
  - 实现整改状态流转和通知机制
  - 创建整改效果评估功能
  - _需求: 需求4.3, 需求4.4, 需求4.5, 需求4.6_

- [x] 5.3 问题管理API接口



  - 实现IssueController问题管理接口
  - 创建个人和团队问题列表查询接口
  - 实现问题整改提交和验证接口
  - 添加问题统计和导出功能接口
  - _需求: 需求4.1, 需求4.2, 需求4.3, 需求4.4, 需求4.5, 需求4.6_

- [x] 5.4 前端问题管理页面



  - 创建个人和团队问题列表页面
  - 实现问题筛选、搜索和排序功能
  - 创建整改记录提交和验证页面
  - 实现问题统计图表和导出功能
  - _需求: 需求4.1, 需求4.2, 需求4.3, 需求4.4, 需求4.5, 需求4.6, 需求10.1, 需求10.2_

- [x] 6. 智能汇总分析模块




  - 集成AI服务进行问题汇总分析
  - 实现问题模式识别和趋势分析
  - 创建智能汇总的API接口
  - 实现前端汇总报告展示页面
  - _需求: 需求5.1, 需求5.2, 需求5.3, 需求5.4, 需求5.5, 需求5.6_

- [x] 6.1 AI服务集成实现




  - 集成OpenAI API客户端
  - 实现AISummaryService智能汇总服务
  - 创建AI提示词模板和参数配置
  - 实现AI服务的熔断和降级机制
  - _需求: 需求5.1, 需求5.2, 需求5.6_

- [x] 6.2 问题分析算法实现


  - 实现IssueAnalyzer问题分析组件
  - 创建问题分类和聚类算法
  - 实现高频问题识别和趋势分析
  - 创建问题模式识别和预测功能
  - _需求: 需求5.1, 需求5.2, 需求5.3, 需求5.4_

- [x] 6.3 智能汇总API接口


  - 实现AISummaryController汇总接口
  - 创建团队和架构师汇总生成接口
  - 实现汇总报告的编辑和发布接口
  - 添加汇总历史查询和管理接口
  - _需求: 需求5.1, 需求5.2, 需求5.3, 需求5.4, 需求5.5_

- [x] 6.4 前端汇总报告页面


  - 创建智能汇总报告展示页面
  - 实现汇总报告的编辑和发布功能
  - 创建问题分析图表和趋势展示
  - 实现汇总历史查询和对比功能
  - _需求: 需求5.1, 需求5.2, 需求5.3, 需求5.4, 需求5.5, 需求10.1, 需求10.2_

- [x] 7. 统计分析模块




  - 实现个人和团队统计数据计算
  - 创建统计图表和报表功能
  - 实现统计分析的API接口
  - 创建前端统计分析页面
  - _需求: 需求6.1, 需求6.2, 需求6.3, 需求6.4, 需求6.5, 需求6.6_

- [x] 7.1 统计数据计算服务


  - 实现StatisticsService统计计算服务
  - 创建个人统计数据计算逻辑
  - 实现团队统计数据计算逻辑
  - 创建全局统计数据计算逻辑
  - 集成Redis缓存提高查询性能

  - _需求: 需求6.1, 需求6.2, 需求6.3, 需求6.5_



- [ ] 7.2 统计分析API接口
  - 实现StatisticsController统计接口

  - 创建个人、团队和全局统计查询接口
  - 实现统计数据的时间范围筛选
  - 添加统计报表导出功能接口


  - _需求: 需求6.1, 需求6.2, 需求6.3, 需求6.4, 需求6.5, 需求6.6_




- [ ] 7.3 前端统计分析页面
  - 创建个人统计仪表板页面
  - 实现团队统计分析页面
  - 集成ECharts图表库展示统计数据
  - 实现统计数据的筛选和导出功能


  - _需求: 需求6.1, 需求6.2, 需求6.3, 需求6.4, 需求6.5, 需求6.6, 需求10.1, 需求10.2_

- [ ] 8. 通知提醒系统
  - 实现多渠道通知服务
  - 创建通知模板和规则配置


  - 实现通知提醒的API接口
  - 创建前端通知中心页面
  - _需求: 需求7.1, 需求7.2, 需求7.3, 需求7.4, 需求7.5, 需求7.6_

- [x] 8.1 通知服务核心实现


  - 实现NotificationService通知服务
  - 创建多渠道通知发送机制
  - 实现邮件、企业微信通知渠道
  - 集成RabbitMQ异步消息处理
  - _需求: 需求7.1, 需求7.2, 需求7.3, 需求7.4, 需求7.6_



- [ ] 8.2 通知规则和模板管理
  - 创建通知规则配置和管理
  - 实现通知模板的创建和编辑
  - 创建通知发送时机和条件判断
  - 实现通知偏好设置和管理
  - _需求: 需求7.1, 需求7.2, 需求7.3, 需求7.4_

- [ ] 8.3 通知API接口
  - 实现NotificationController通知接口
  - 创建通知列表查询和标记已读接口
  - 实现通知偏好设置和管理接口
  - 添加通知统计和历史查询接口
  - _需求: 需求7.1, 需求7.2, 需求7.3, 需求7.4, 需求7.5, 需求7.6_

- [ ] 8.4 前端通知中心页面
  - 创建通知中心和消息列表页面
  - 实现实时通知推送和提醒功能
  - 创建通知偏好设置页面
  - 实现通知的分类筛选和搜索
  - _需求: 需求7.1, 需求7.2, 需求7.3, 需求7.4, 需求7.5, 需求7.6, 需求10.1, 需求10.2_

- [ ] 9. 移动端适配和PWA支持
  - 实现响应式设计和移动端适配
  - 集成PWA功能和离线缓存
  - 优化移动端交互和性能
  - 实现移动端推送通知
  - _需求: 需求10.1, 需求10.2, 需求10.3, 需求10.4, 需求10.5, 需求10.6_

- [ ] 9.1 响应式设计实现
  - 使用CSS媒体查询实现响应式布局
  - 优化移动端组件的显示和交互
  - 实现移动端导航和菜单设计
  - 优化表格和图表的移动端展示
  - _需求: 需求10.1, 需求10.2, 需求10.4_

- [ ] 9.2 PWA功能集成
  - 配置Service Worker和离线缓存
  - 实现应用清单和安装提示
  - 创建离线页面和数据同步机制
  - 实现后台同步和推送通知
  - _需求: 需求10.5, 需求10.6_

- [ ] 9.3 移动端交互优化
  - 优化触摸操作和手势支持
  - 实现移动端文件上传和拍照功能
  - 优化移动端表单输入和验证
  - 实现移动端下拉刷新和无限滚动
  - _需求: 需求10.3, 需求10.4, 需求10.5_

- [ ] 10. 系统性能优化和安全加固
  - 实现数据库查询优化和缓存策略
  - 加强系统安全防护和数据加密
  - 实现系统监控和日志管理
  - 进行性能测试和安全测试
  - _需求: 需求8.1, 需求8.2, 需求8.3, 需求8.4, 需求8.5, 需求8.6_

- [ ] 10.1 性能优化实现
  - 优化数据库查询和索引策略
  - 实现Redis缓存和查询优化
  - 优化前端资源加载和打包
  - 实现API接口的性能监控
  - _需求: 需求8.1, 需求8.2, 需求8.3_

- [ ] 10.2 安全加固实现
  - 实现HTTPS数据传输加密
  - 加强SQL注入和XSS攻击防护
  - 实现敏感数据脱敏和加密存储
  - 创建安全审计日志和监控
  - _需求: 需求8.4, 需求8.5_

- [ ] 10.3 监控和日志系统
  - 集成Micrometer和Prometheus监控
  - 实现应用日志和访问日志管理
  - 创建系统健康检查和告警机制
  - 实现分布式链路追踪
  - 配置日志收集和分析系统
  - _需求: 需求8.6_

- [ ] 11. 数据备份和恢复机制
  - 实现自动数据备份策略
  - 创建数据恢复和灾难恢复方案
  - 实现备份数据的完整性验证
  - 创建备份管理和监控功能
  - _需求: 需求9.1, 需求9.2, 需求9.3, 需求9.4, 需求9.5, 需求9.6_

- [ ] 11.1 自动备份系统实现
  - 实现数据库自动备份定时任务
  - 创建文件存储的备份策略
  - 实现备份数据的压缩和加密
  - 创建备份存储空间管理
  - _需求: 需求9.1, 需求9.2, 需求9.5_

- [ ] 11.2 数据恢复功能实现
  - 实现指定时间点的数据恢复
  - 创建数据恢复的验证机制
  - 实现数据一致性检查和修复
  - 创建恢复过程的监控和日志
  - _需求: 需求9.3, 需求9.4, 需求9.6_

- [ ] 12. 数据库初始化和数据准备
  - 使用local-mysql工具创建数据库和表结构
  - 准备测试数据和初始化脚本
  - 验证数据库表结构和约束
  - 创建数据库操作文档
  - _需求: 需求1.2, 需求2.1, 需求3.1, 需求4.1_

- [ ] 12.1 数据库表结构创建
  - 使用local-mysql创建code_review数据库
  - 执行所有表的DDL语句创建表结构
  - 创建必要的索引和外键约束
  - 验证表结构的完整性和正确性
  - _需求: 需求1.2, 需求2.1, 需求3.1, 需求4.1_

- [ ] 12.2 初始化数据准备
  - 创建系统管理员用户和默认团队
  - 准备用户角色和权限的基础数据
  - 创建评审分配规则的默认配置
  - 准备通知模板和系统配置数据
  - _需求: 需求1.2, 需求1.3, 需求2.2, 需求7.2_

- [ ] 12.3 数据库操作文档
  - 编写数据库表结构说明文档
  - 创建数据库操作和维护手册
  - 准备常用SQL查询语句集合
  - 创建数据备份和恢复操作指南
  - _需求: 需求9.1, 需求9.2, 需求9.3, 需求9.4_